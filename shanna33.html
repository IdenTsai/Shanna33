<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çµ¦ å­çŠ çš„å°ˆå±¬é©šå–œ</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #fff0f3;
            margin: 0;
            overflow: hidden;
            font-family: "Microsoft JhengHei", sans-serif;
        }

        .container {
    position: relative;
    width: 90vw;      /* ä½¿ç”¨è¢å¹•å¯¬åº¦çš„ 90% */
    max-width: 450px; /* é›»è…¦ç‰ˆæœ€å¤§ç¶­æŒ 450px */
    height: auto;     /* é«˜åº¦æ ¹æ“šå…§å®¹èª¿æ•´ */
    aspect-ratio: 1 / 1; /* ç¶­æŒæ­£æ–¹å½¢æ¯”ä¾‹ */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10;
}

/* ä¿®æ”¹å¾Œçš„æ–‡å­—ï¼šç¢ºä¿åœ¨çª„è¢å¹•ä¸‹å­—é«”å¤§å°æœƒè‡ªé©æ‡‰ */
.main-text {
    position: absolute;
    top: 48%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 0px; /* åˆå§‹å€¼ */
    font-weight: 900;
    opacity: 0;
    z-index: 20;
    text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
    pointer-events: none;
    white-space: nowrap; /* é¿å…æ›è¡Œ */
    width: 100%;
    text-align: center;
}

.main-text.show {
    font-size: 8vw; /* ä½¿ç”¨æ¯”ä¾‹å­—é«”ï¼šåœ¨æ‰‹æ©Ÿè®Šå°ï¼Œåœ¨é›»è…¦è®Šå¤§ */
    max-size: 38px; /* æœ€å¤§ä¸è¶…é 38px */
    opacity: 1;
    transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    animation: gentleBeat 1.5s infinite alternate ease-in-out;
}
        }

        svg {
            width: 100%;
            height: 100%;
            position: absolute;
        }

        /* 1. æ¨¡æ“¬æµ·é¾œç¹ªåœ–ï¼šå¤§æ„›å¿ƒè¼ªå»“ */
        .heart-outline {
            stroke: #ff4d6d;
            stroke-width: 6;
            fill: transparent;
            stroke-dasharray: 1200;
            stroke-dashoffset: 1200;
            stroke-linecap: round;
            animation: drawOutline 3s forwards ease-in-out;
            z-index: 5;
        }

        @keyframes drawOutline {
            to { stroke-dashoffset: 0; }
        }

        /* 2. ä¸­å¿ƒå¾ªç’°æ”¾å¤§æ•ˆæœ (å¿ƒè·³æ³¢æµª) */
        .heart-fill {
            fill: #ff758f;
            opacity: 0;
            transform-origin: center;
            transform: scale(0);
        }

        .heart-fill.animate {
            animation: pulseExpand 2s infinite ease-out;
        }

        @keyframes pulseExpand {
            0% { transform: scale(0); opacity: 0.8; }
            70% { transform: scale(1); opacity: 0.4; }
            100% { transform: scale(1); opacity: 0; }
        }

        /* 3. ç©©å®šå¡«è‰²èˆ‡è®Šè‰²å±¤ */
        .heart-solid {
            fill: #ff758f;
            opacity: 0;
            transform-origin: center;
            transition: opacity 1s ease;
        }

        .heart-solid.show {
            opacity: 0.8;
            animation: colorShift 6s infinite alternate ease-in-out;
        }

        @keyframes colorShift {
            0% { fill: #ff758f; }
            33% { fill: #ff8fab; }
            66% { fill: #c8b6ff; }
            100% { fill: #ffd6a5; }
        }

        /* 4. æ–‡å­—æ¨£å¼ */
        .main-text {
            position: absolute;
            top: 48%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 0px;
            font-weight: 900;
            opacity: 0;
            z-index: 20;
            text-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
            pointer-events: none;
            white-space: nowrap;
        }

        .main-text.show {
            font-size: 38px;
            opacity: 1;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            animation: gentleBeat 1.5s infinite alternate ease-in-out;
        }

        @keyframes gentleBeat {
            from { transform: translate(-50%, -50%) scale(1); }
            to { transform: translate(-50%, -50%) scale(1.08); }
        }

        /* 5. å³ä¸‹è§’è‰å¯«ç°½å */
        .signature {
            position: fixed;
            right: 30px;
            bottom: 30px;
            font-family: 'Dancing Script', cursive;
            font-size: 28px;
            color: #ff4d6d;
            opacity: 0;
            transition: opacity 2s ease-in;
            z-index: 30;
        }

        .signature.show {
            opacity: 0.8;
        }

        /* å…¶ä»–ç²’å­èˆ‡èƒŒæ™¯æ•ˆæœ */
        .bg-heart { position: fixed; color: #ff4d6d; z-index: 1; pointer-events: none; animation: floatUp 4s forwards ease-in; }
        @keyframes floatUp {
            0% { opacity: 0; transform: translateY(0) scale(0.5); }
            20% { opacity: 0.6; }
            100% { opacity: 0; transform: translateY(-100px) scale(1.2); }
        }

        .particle { position: absolute; pointer-events: none; z-index: 100; animation: popOut 1s forwards ease-out; font-size: 26px; }
        @keyframes popOut {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
            100% { transform: translate(calc(-50% + var(--tx)), calc(-50% + var(--ty))) scale(1.5); opacity: 0; }
        }

        #clickArea { position: absolute; width: 320px; height: 320px; cursor: pointer; z-index: 30; border-radius: 50%; }
    </style>
</head>
<body>

    <div class="container">
        <svg viewBox="0 0 400 400">
            <defs>
                <path id="heartPath" d="M 200,120 C 200,120 150,50 80,50 C 20,50 20,140 20,140 C 20,220 200,350 200,350 C 200,350 380,220 380,140 C 380,140 380,50 320,50 C 250,50 200,120 200,120"></path>
            </defs>
            <use href="#heartPath" class="heart-solid" id="solidFill" />
            <use href="#heartPath" class="heart-fill" id="expandingFill" />
            <use href="#heartPath" class="heart-outline" id="outline" />
        </svg>
        <div id="text" class="main-text">33 æƒ…äººç¯€å¿«æ¨‚â¤ï¸</div>
        <div id="clickArea"></div>
    </div>

    <div id="signature" class="signature">Iden Tsai</div>

    <script>
        const outline = document.getElementById('outline');
        const expandingFill = document.getElementById('expandingFill');
        const solidFill = document.getElementById('solidFill');
        const text = document.getElementById('text');
        const signature = document.getElementById('signature');
        const clickArea = document.getElementById('clickArea');

        // ç•¶è¼ªå»“æç¹ªå®Œæˆå¾Œå•Ÿå‹•å¾ŒçºŒå‹•ç•«
        outline.addEventListener('animationend', () => {
            expandingFill.classList.add('animate');
            
            setTimeout(() => {
                solidFill.classList.add('show');
                text.classList.add('show');
                signature.classList.add('show'); // é¡¯ç¤ºå³ä¸‹è§’ç°½å
                startBgHearts();
            }, 500);
        });

        // é»æ“Šå™´ç™¼å°æ„›å¿ƒ
        clickArea.addEventListener('click', (e) => {
            if (!text.classList.contains('show')) return;
            for (let i = 0; i < 12; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.innerText = ['â¤ï¸', 'ğŸ’–', 'ğŸ’•'][Math.floor(Math.random() * 3)];
                p.style.left = e.clientX + 'px';
                p.style.top = e.clientY + 'px';
                const angle = Math.random() * Math.PI * 2, dist = 80 + Math.random() * 100;
                p.style.setProperty('--tx', Math.cos(angle) * dist + 'px');
                p.style.setProperty('--ty', Math.sin(angle) * dist + 'px');
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 1000);
            }
        });

        // èƒŒæ™¯éš¨æ©Ÿç”¢ç”Ÿå°æ„›å¿ƒ
        function startBgHearts() {
            setInterval(() => {
                const bh = document.createElement('div');
                bh.className = 'bg-heart';
                bh.innerText = 'â¤ï¸';
                bh.style.left = Math.random() * 100 + 'vw';
                bh.style.top = Math.random() * 100 + 'vh';
                bh.style.fontSize = (Math.random() * 10 + 10) + 'px';
                document.body.appendChild(bh);
                setTimeout(() => bh.remove(), 4000);
            }, 450);
        }
    </script>
</body>

</html>
